@using Microsoft.AspNetCore.Mvc.Localization
@using UpDiddy.ViewModels
@using UpDiddyLib.Dto
@using System.Collections.Generic;
@using System;
@model CampaignDetailsViewModel

@Html.Partial("Admin/_AdminNavigation")

<div class="container admin">
    <div class="row">
        <div class="col-sm-2 mt-3 mb-3 admin-breadcrumb">
            <div class="form-inline">
                <div class="form-group">
                    <a asp-controller="Marketing" asp-action="CampaignStatistics">Campaign Statistics</a>
                    &nbsp;/&nbsp;
                    @Model.CampaignName
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm">
            @(Html
                                                .Grid(Model.CampaignDetails)
                                                .Css("admin-grid")
                                                .Build(columns =>
                                                {
                                                    columns.Add(model => model.CourseName).Sortable(true).Titled("Course Name");
                                                    columns.Add(model => model.Rebatetype).Sortable(true).Titled("Rebate Type");
                                                    columns.Add(model => model.Email).Sortable(true).Titled("Email");
                                                    columns.Add(model => model.FirstName).Sortable(true).Titled("First Name");
                                                    columns.Add(model => model.LastName).Sortable(true).Titled("Last Name");
                                                    columns.Add(model => model.OpenEmail).Sortable(true).Titled("Emails Opened");
                                                    columns.Add(model => model.VisitLandingPage).Sortable(true).Titled("Landing Page Visits");
                                                    columns.Add(model => model.CreateAcount).Sortable(true).Titled("Accounts Created");
                                                    columns.Add(model => model.CourseEnrollment).Sortable(true).Titled("Course Enrollments");
                                                    columns.Add(model => model.CourseCompletion).Sortable(true).Titled("Courses Completed");
                                                })
                                                .AppendCss("table table-primary table-striped")
                                                .Empty("No data found")
                                                .AppendCss("detail-grid")
                                                .Filterable()
            )
        </div>
    </div>
    @section Scripts{
        <script type="text/javascript">
            $(".admin-nav-campaign-stats").addClass("active");
            window.onload = function () {
                var grid = new MvcGrid(document.querySelector('.mvc-grid'));
            }
        </script>
        <style>
            .detail-grid {
                font-size: 10px;
            }
        </style>
        }
</div>